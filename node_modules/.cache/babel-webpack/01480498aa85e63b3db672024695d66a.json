{"ast":null,"code":"import { filter, startWith, switchMap, tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./../../+state/character-facade.service\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../character-info/character-info.component\";\nimport * as i7 from \"@ngx-translate/core\";\n\nfunction CharacterComponent_ng_container_6_div_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"bc-character-info\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const quote_r6 = ctx.ngIf;\n    const character_r3 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"character\", character_r3)(\"quote\", quote_r6);\n  }\n}\n\nfunction CharacterComponent_ng_container_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"img\", 7);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵtemplate(3, CharacterComponent_ng_container_6_div_1_ng_container_3_Template, 2, 2, \"ng-container\", 3);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const character_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", character_r3.name + \"\" + i0.ɵɵpipeBind1(2, 3, \"character.image\"));\n    i0.ɵɵproperty(\"src\", character_r3.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 5, ctx_r4.characterQuote$));\n  }\n}\n\nfunction CharacterComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CharacterComponent_ng_container_6_div_1_Template, 5, 7, \"div\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const character_r3 = ctx.ngIf;\n    i0.ɵɵnextContext();\n\n    const _r1 = i0.ɵɵreference(9);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", character_r3 == null ? null : character_r3.char_id)(\"ngIfElse\", _r1);\n  }\n}\n\nfunction CharacterComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵelement(3, \"div\", 11);\n    i0.ɵɵelement(4, \"div\", 11);\n    i0.ɵɵelement(5, \"div\", 11);\n    i0.ɵɵelement(6, \"div\", 11);\n    i0.ɵɵelement(7, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"/\"];\n};\n\nexport class CharacterComponent {\n  constructor(router, charactersFacadeService) {\n    this.router = router;\n    this.charactersFacadeService = charactersFacadeService;\n  }\n\n  ngOnInit() {\n    // this.vm$ = combineLatest([\n    //   this.charactersFacadeService.isLoading$.pipe(\n    //     startWith(true)\n    //   ),\n    //   this.router.params.pipe(\n    //     switchMap(({id}) =>\n    //       this.charactersFacadeService.getCharacter(id).pipe(\n    //         tap(character => {\n    //           if (!character?.char_id) {\n    //             this.charactersFacadeService.loadCharacterById(id);\n    //           }\n    //         })\n    //       )\n    //     )\n    //   ),\n    //   this.charactersFacadeService.getCharacter(id).pipe(\n    //     filter(character => !!character?.name),\n    //     switchMap(character => this.charactersFacadeService.getCharacterQuote(character.name))\n    //   )\n    // ]).pipe(\n    //   map(([isLoading, character]))\n    // )\n    this.isLoading$ = this.charactersFacadeService.isLoading$.pipe(startWith(true));\n    this.character$ = this.router.params.pipe(switchMap(({\n      id\n    }) => this.charactersFacadeService.getCharacter(id).pipe(tap(character => {\n      if (!(character === null || character === void 0 ? void 0 : character.char_id)) {\n        this.charactersFacadeService.loadCharacterById(id);\n      }\n    }))));\n    this.characterQuote$ = this.character$.pipe(filter(character => !!(character === null || character === void 0 ? void 0 : character.name)), switchMap(character => this.charactersFacadeService.getCharacterQuote(character.name)));\n  }\n\n}\n\nCharacterComponent.ɵfac = function CharacterComponent_Factory(t) {\n  return new (t || CharacterComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CharactersFacadeService));\n};\n\nCharacterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CharacterComponent,\n  selectors: [[\"bc-character\"]],\n  decls: 10,\n  vars: 8,\n  consts: [[1, \"character\"], [\"mat-raised-button\", \"\", 1, \"mb-3\", 3, \"routerLink\"], [\"aria-hidden\", \"false\", \"aria-label\", \"come back icon\"], [4, \"ngIf\"], [\"loadingCharacter\", \"\"], [\"class\", \"character-grid\", 4, \"ngIf\", \"ngIfElse\"], [1, \"character-grid\"], [\"loading\", \"lazy\", 1, \"character-grid__image\", 3, \"src\", \"alt\"], [3, \"character\", \"quote\"], [1, \"character__image__placeholder\"], [1, \"character__info__placeholder\"], [1, \"characte__info__placeholder__line\", \"mb-3\"], [1, \"characte__info__placeholder__line\", \"characte__info__placeholder__line--bigger\"]],\n  template: function CharacterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"button\", 1);\n      i0.ɵɵelementStart(2, \"mat-icon\", 2);\n      i0.ɵɵtext(3, \"arrow_back\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4);\n      i0.ɵɵpipe(5, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, CharacterComponent_ng_container_6_Template, 2, 2, \"ng-container\", 3);\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, CharacterComponent_ng_template_8_Template, 8, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(7, _c0));\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, \"returnToCharacters\"), \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 5, ctx.character$));\n    }\n  },\n  directives: [i3.MatButton, i1.RouterLink, i4.MatIcon, i5.NgIf, i6.CharacterInfoComponent],\n  pipes: [i7.TranslatePipe, i5.AsyncPipe],\n  styles: [\".character[_ngcontent-%COMP%] {\\n  min-height: 80vh;\\n}\\n.character-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: minmax(300px, 1fr) 1fr;\\n  grid-gap: 1rem;\\n  gap: 1rem;\\n}\\n.character-grid__image[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-radius: var(--border-radius);\\n}\\n.character__image__placeholder[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-radius: var(--border-radius);\\n  position: relative;\\n  background-color: #d9d5d5;\\n  height: 65vh;\\n  overflow: hidden;\\n}\\n.character__image__placeholder[_ngcontent-%COMP%]::before {\\n  content: \\\"\\\";\\n  display: block;\\n  position: absolute;\\n  left: -150px;\\n  top: 0;\\n  height: 100%;\\n  width: 150px;\\n  background: linear-gradient(to right, transparent 0%, #E8E8E8 50%, transparent 100%);\\n  animation: loading 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;\\n}\\n.characte__info__placeholder__line[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 2rem;\\n  background-color: #d9d5d5;\\n  border-radius: var(--border-radius);\\n  position: relative;\\n  overflow: hidden;\\n}\\n.characte__info__placeholder__line[_ngcontent-%COMP%]::before {\\n  content: \\\"\\\";\\n  display: block;\\n  position: absolute;\\n  left: -150px;\\n  top: 0;\\n  height: 100%;\\n  width: 150px;\\n  background: linear-gradient(to right, transparent 0%, #E8E8E8 50%, transparent 100%);\\n  animation: loading 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;\\n}\\n.characte__info__placeholder__line--bigger[_ngcontent-%COMP%] {\\n  height: 3rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXJhY3Rlci5jb21wb25lbnQuc2NzcyIsIi4uLy4uLy4uLy4uL3N0eWxlcy9fbWl4aW5ncy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsZ0JBQUE7QUFERjtBQUdFO0VBQ0UsYUFBQTtFQUNBLDZDQUFBO0VBQ0EsY0FBQTtFQUFBLFNBQUE7QUFESjtBQUdJO0VBQ0UsV0FBQTtFQUNBLG1DQUFBO0FBRE47QUFNQTtFQUNFLFdBQUE7RUFDQSxtQ0FBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFIRjtBQ2JFO0VBQ0UsV0FBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxNQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxvRkFBQTtFQUNBLDJEQUFBO0FEZUo7QUFIQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxtQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFNRjtBQ2pDRTtFQUNFLFdBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsTUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esb0ZBQUE7RUFDQSwyREFBQTtBRG1DSjtBQWJFO0VBQ0UsWUFBQTtBQWVKIiwiZmlsZSI6ImNoYXJhY3Rlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uLy4uLy4uL3N0eWxlcy9taXhpbmdzJztcblxuLmNoYXJhY3RlciB7XG4gIG1pbi1oZWlnaHQ6IDgwdmg7XG5cbiAgJi1ncmlkIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogbWlubWF4KDMwMHB4LCAxZnIpIDFmcjtcbiAgICBnYXA6IDFyZW07XG5cbiAgICAmX19pbWFnZSB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICAgIH1cbiAgfVxufVxuXG4uY2hhcmFjdGVyX19pbWFnZV9fcGxhY2Vob2xkZXIge1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q5ZDVkNTtcbiAgaGVpZ2h0OiA2NXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gIEBpbmNsdWRlIGxvYWRpbmc7XG59XG5cbi5jaGFyYWN0ZV9faW5mb19fcGxhY2Vob2xkZXJfX2xpbmUge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAycmVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDlkNWQ1O1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gIEBpbmNsdWRlIGxvYWRpbmc7XG5cbiAgJi0tYmlnZ2VyIHtcbiAgICBoZWlnaHQ6IDNyZW07XG4gIH1cbn1cbiIsIkBtaXhpbiBmaXJzdC1sZXR0ZXItYmIge1xuICAmOjpmaXJzdC1sZXR0ZXIge1xuICAgIGNvbG9yOiB2YXIoLS1iYi1icmFuZCk7XG4gIH1cbn1cblxuQG1peGluIGxvYWRpbmcge1xuICAmOjpiZWZvcmUge1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAtMTUwcHg7XG4gICAgdG9wOiAwO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTUwcHg7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCB0cmFuc3BhcmVudCAwJSwgI0U4RThFOCA1MCUsIHRyYW5zcGFyZW50IDEwMCUpO1xuICAgIGFuaW1hdGlvbjogbG9hZGluZyAxcyBjdWJpYy1iZXppZXIoMC40LCAwLjAsIDAuMiwgMSkgaW5maW5pdGU7XG4gIH1cbn1cbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/Users/jalcantara/Documents/projects/breaking-chars/src/app/characters/character-detail/character/character.component.ts","/Users/jalcantara/Documents/projects/breaking-chars/src/app/characters/character-detail/character/character.component.html"],"names":[],"mappings":"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","sourcesContent":["import { map } from 'rxjs/operators';\nimport { Status, statusColor } from './../../models/character.model';\nimport { combineLatest, Observable } from 'rxjs';\nimport { CharactersFacadeService } from './../../+state/character-facade.service';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Character, StatusType } from '../../models/character.model';\nimport { filter, startWith, switchMap, tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'bc-character',\n  templateUrl: './character.component.html',\n  styleUrls: ['./character.component.scss']\n})\nexport class CharacterComponent implements OnInit {\n\n  character$!: Observable<Character>;\n  characterQuote$!: Observable<string>;\n  isLoading$!: Observable<boolean>;\n  vm$!: any;\n\n  constructor(private router: ActivatedRoute, private charactersFacadeService: CharactersFacadeService) { }\n\n  ngOnInit(): void {\n\n    // this.vm$ = combineLatest([\n    //   this.charactersFacadeService.isLoading$.pipe(\n    //     startWith(true)\n    //   ),\n    //   this.router.params.pipe(\n    //     switchMap(({id}) =>\n    //       this.charactersFacadeService.getCharacter(id).pipe(\n    //         tap(character => {\n    //           if (!character?.char_id) {\n    //             this.charactersFacadeService.loadCharacterById(id);\n    //           }\n    //         })\n    //       )\n    //     )\n    //   ),\n    //   this.charactersFacadeService.getCharacter(id).pipe(\n    //     filter(character => !!character?.name),\n    //     switchMap(character => this.charactersFacadeService.getCharacterQuote(character.name))\n    //   )\n    // ]).pipe(\n    //   map(([isLoading, character]))\n    // )\n\n    this.isLoading$ = this.charactersFacadeService.isLoading$.pipe(\n      startWith(true)\n    );\n\n    this.character$ = this.router.params.pipe(\n      switchMap(({id}) =>\n        this.charactersFacadeService.getCharacter(id).pipe(\n          tap(character => {\n            if (!character?.char_id) {\n              this.charactersFacadeService.loadCharacterById(id);\n            }\n          })\n        )\n      )\n    );\n\n    this.characterQuote$ = this.character$.pipe(\n      filter(character => !!character?.name),\n      switchMap(character => this.charactersFacadeService.getCharacterQuote(character.name))\n    );\n  }\n}\n","<div class=\"character\">\n  <button\n    class=\"mb-3\"\n    [routerLink]=\"['/']\"\n    mat-raised-button>\n    <mat-icon aria-hidden=\"false\" aria-label=\"come back icon\">arrow_back</mat-icon>\n    {{'returnToCharacters' | translate}}\n  </button>\n\n  <ng-container *ngIf=\"character$ | async as character\">\n    <div class=\"character-grid\" *ngIf=\"character?.char_id; else loadingCharacter\">\n      <img loading=\"lazy\"\n        class=\"character-grid__image\"\n        [src]=\"character.img\"\n        alt=\"{{ character.name + '' + ( 'character.image' | translate )}}\"/>\n      <ng-container *ngIf=\"characterQuote$ | async as quote\">\n        <bc-character-info\n          [character]=\"character\"\n          [quote]=\"quote\">\n        </bc-character-info>\n      </ng-container>\n    </div>\n  </ng-container>\n</div>\n\n<ng-template #loadingCharacter>\n  <div class=\"character-grid\">\n    <div class=\"character__image__placeholder\"></div>\n    <div class=\"character__info__placeholder\">\n      <div class=\"characte__info__placeholder__line mb-3\"></div>\n      <div class=\"characte__info__placeholder__line mb-3\"></div>\n      <div class=\"characte__info__placeholder__line mb-3\"></div>\n      <div class=\"characte__info__placeholder__line mb-3\"></div>\n      <div class=\"characte__info__placeholder__line characte__info__placeholder__line--bigger\"></div>\n    </div>\n  </div>\n</ng-template>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}