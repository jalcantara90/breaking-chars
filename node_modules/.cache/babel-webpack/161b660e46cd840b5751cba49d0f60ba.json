{"ast":null,"code":"import { catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { filter, switchMap, tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./../../+state/character-facade.service\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../character-info/character-info.component\";\nimport * as i7 from \"@ngx-translate/core\";\n\nfunction CharacterComponent_ng_container_6_div_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"bc-character-info\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const quote_r6 = ctx.ngIf;\n    const character_r3 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"character\", character_r3)(\"quote\", quote_r6);\n  }\n}\n\nfunction CharacterComponent_ng_container_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"img\", 7);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵtemplate(3, CharacterComponent_ng_container_6_div_1_ng_container_3_Template, 2, 2, \"ng-container\", 3);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const character_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", character_r3.name + \"\" + i0.ɵɵpipeBind1(2, 3, \"character.image\"));\n    i0.ɵɵproperty(\"src\", character_r3.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 5, ctx_r4.characterQuote$));\n  }\n}\n\nfunction CharacterComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CharacterComponent_ng_container_6_div_1_Template, 5, 7, \"div\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const character_r3 = ctx.ngIf;\n    i0.ɵɵnextContext();\n\n    const _r1 = i0.ɵɵreference(9);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", character_r3 == null ? null : character_r3.char_id)(\"ngIfElse\", _r1);\n  }\n}\n\nfunction CharacterComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵelement(3, \"div\", 11);\n    i0.ɵɵelement(4, \"div\", 11);\n    i0.ɵɵelement(5, \"div\", 11);\n    i0.ɵɵelement(6, \"div\", 11);\n    i0.ɵɵelement(7, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"/\"];\n};\n\nexport let CharacterComponent = /*@__PURE__*/(() => {\n  class CharacterComponent {\n    constructor(router, charactersFacadeService) {\n      this.router = router;\n      this.charactersFacadeService = charactersFacadeService;\n    }\n\n    ngOnInit() {\n      this.character$ = this.router.params.pipe(switchMap(({\n        id\n      }) => this.charactersFacadeService.getCharacter(id).pipe(tap(character => {\n        if (!(character === null || character === void 0 ? void 0 : character.char_id)) {\n          this.charactersFacadeService.loadCharacterById(id);\n        }\n      }))));\n      this.characterQuote$ = this.character$.pipe(filter(character => !!(character === null || character === void 0 ? void 0 : character.name)), switchMap(character => this.charactersFacadeService.getCharacterQuote(character.name)), catchError(() => of('')));\n    }\n\n  }\n\n  CharacterComponent.ɵfac = function CharacterComponent_Factory(t) {\n    return new (t || CharacterComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CharactersFacadeService));\n  };\n\n  CharacterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CharacterComponent,\n    selectors: [[\"bc-character\"]],\n    decls: 10,\n    vars: 8,\n    consts: [[1, \"character\"], [\"mat-raised-button\", \"\", 1, \"mb-3\", 3, \"routerLink\"], [\"aria-hidden\", \"false\", \"aria-label\", \"come back icon\"], [4, \"ngIf\"], [\"loadingCharacter\", \"\"], [\"class\", \"character-grid\", 4, \"ngIf\", \"ngIfElse\"], [1, \"character-grid\"], [\"loading\", \"lazy\", 1, \"character-grid__image\", 3, \"src\", \"alt\"], [3, \"character\", \"quote\"], [1, \"character__image__placeholder\"], [1, \"character__info__placeholder\"], [1, \"character__info__placeholder__line\", \"mb-3\"], [1, \"character__info__placeholder__line\", \"character__info__placeholder__line--bigger\"]],\n    template: function CharacterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"button\", 1);\n        i0.ɵɵelementStart(2, \"mat-icon\", 2);\n        i0.ɵɵtext(3, \"arrow_back\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, CharacterComponent_ng_container_6_Template, 2, 2, \"ng-container\", 3);\n        i0.ɵɵpipe(7, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, CharacterComponent_ng_template_8_Template, 8, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(7, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, \"returnToCharacters\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 5, ctx.character$));\n      }\n    },\n    directives: [i3.MatButton, i1.RouterLink, i4.MatIcon, i5.NgIf, i6.CharacterInfoComponent],\n    pipes: [i7.TranslatePipe, i5.AsyncPipe],\n    styles: [\".character[_ngcontent-%COMP%]{min-height:80vh}.character-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(300px,1fr) 1fr;grid-gap:2rem;gap:2rem}.character-grid__image[_ngcontent-%COMP%], .character__image__placeholder[_ngcontent-%COMP%]{width:100%;border-radius:var(--border-radius)}.character__image__placeholder[_ngcontent-%COMP%]{position:relative;background-color:#d9d5d5;height:65vh;overflow:hidden}.character__image__placeholder[_ngcontent-%COMP%]:before{content:\\\"\\\";display:block;position:absolute;left:-150px;top:0;height:100%;width:150px;background:linear-gradient(90deg,transparent 0,#e8e8e8 50%,transparent);animation:loading 1s cubic-bezier(.4,0,.2,1) infinite}.character__info__placeholder__line[_ngcontent-%COMP%]{width:100%;height:2rem;background-color:#d9d5d5;border-radius:var(--border-radius);position:relative;overflow:hidden}.character__info__placeholder__line[_ngcontent-%COMP%]:before{content:\\\"\\\";display:block;position:absolute;left:-150px;top:0;height:100%;width:150px;background:linear-gradient(90deg,transparent 0,#e8e8e8 50%,transparent);animation:loading 1s cubic-bezier(.4,0,.2,1) infinite}.character__info__placeholder__line--bigger[_ngcontent-%COMP%]{height:3rem}@media (max-width:800px){.character-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}\"]\n  });\n  return CharacterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}