(self.webpackChunkbreaking_chars=self.webpackChunkbreaking_chars||[]).push([[382],{2797:(t,e,r)=>{"use strict";r.d(e,{a8:()=>o,QW:()=>d});var a=r(6136),n=r(7064),i=r(5366);const c=["*",[["mat-card-footer"]]],s=["*","mat-card-footer"];let o=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(a.Qb,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&i.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:s,decls:2,vars:0,template:function(t,e){1&t&&(i.F$t(c),i.Hsn(0),i.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[n.BQ],n.BQ]}),t})()},9444:(t,e,r)=>{"use strict";r.d(e,{S:()=>_});var a=r(7194),n=r(1671),i=r(3715),c=r(1027);const s=(0,n.ZF)(i.c$),o=(0,n.P1)(s,c.td),d=(0,n.P1)(s,c.OR),h=(0,n.P1)(s,t=>t.loaded);var l=r(3530),u=r(3835),m=r(7727),g=r(1225),p=r(5366),f=r(2320),b=r(649),v=r(3492);let _=(()=>{class t{constructor(t,e,r,a){this.store=t,this.characterService=e,this.translateService=r,this.toastrService=a,this.characterList$=this.store.pipe((0,n.Ys)(o)),this.areLoaded$=this.store.pipe((0,n.Ys)(h))}loadCharacters(){this.areLoaded$.pipe((0,l.P)(),(0,u.h)(t=>!t)).subscribe(()=>this.store.dispatch(a.l()))}getCharacter(t){return this.store.pipe((0,n.Ys)((t=>(0,n.P1)(d,e=>e[t]||{}))(t)))}getCharacterQuote(t){return this.characterService.getCharacterQuote(t).pipe((0,m.K)(t=>(this.toastrService.error(t.message,this.translateService.instant("character.quote.load")),(0,g._)(t))))}loadCharacterById(t){return this.store.dispatch(a.W6({id:t}))}}return t.\u0275fac=function(e){return new(e||t)(p.LFG(n.yh),p.LFG(f.R),p.LFG(b.sK),p.LFG(v._W))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac}),t})()},7194:(t,e,r)=>{"use strict";r.d(e,{l:()=>n,aB:()=>i,FU:()=>c,W6:()=>s,cb:()=>o,we:()=>d});var a=r(1671);const n=(0,a.PH)("[Characters] Load Characters"),i=(0,a.PH)("[Characters] Load Characters Success",(0,a.Ky)()),c=(0,a.PH)("[Characters] Load Characters Failure",(0,a.Ky)()),s=(0,a.PH)("[Characters details] Load Character By Id",(0,a.Ky)()),o=(0,a.PH)("[Characters details] Load Character By Id Success",(0,a.Ky)()),d=(0,a.PH)("[Characters details] Load Character By Id Failure",(0,a.Ky)())},1027:(t,e,r)=>{"use strict";r.d(e,{VL:()=>d,td:()=>l,OR:()=>h});var a=r(1671),n=r(5366),i=function(t){return t[t.EntitiesOnly=0]="EntitiesOnly",t[t.Both=1]="Both",t[t.None=2]="None",t}({});function c(t){return function(e,r){const a={ids:[...r.ids],entities:Object.assign({},r.entities)},n=t(e,a);return n===i.Both?Object.assign({},r,a):n===i.EntitiesOnly?Object.assign(Object.assign({},r),{entities:a.entities}):r}}function s(t,e){const r=e(t);return(0,n.X6Q)()&&void 0===r&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",e.toString()),r}function o(t){function e(e,r){const a=s(e,t);return a in r.entities?i.None:(r.ids.push(a),r.entities[a]=e,i.Both)}function r(t,r){let a=!1;for(const n of t)a=e(n,r)!==i.None||a;return a?i.Both:i.None}function a(t,e){const r=(t instanceof Array?t:e.ids.filter(r=>t(e.entities[r]))).filter(t=>t in e.entities).map(t=>delete e.entities[t]).length>0;return r&&(e.ids=e.ids.filter(t=>t in e.entities)),r?i.Both:i.None}function n(t,e){return o([t],e)}function o(e,r){const a={};return(e=e.filter(t=>t.id in r.entities)).length>0?e.filter(e=>function(e,r,a){const n=Object.assign({},a.entities[r.id],r.changes),i=s(n,t),c=i!==r.id;return c&&(e[r.id]=i,delete a.entities[r.id]),a.entities[i]=n,c}(a,e,r)).length>0?(r.ids=r.ids.map(t=>a[t]||t),i.Both):i.EntitiesOnly:i.None}function d(e,a){const n=[],c=[];for(const r of e){const e=s(r,t);e in a.entities?c.push({id:e,changes:r}):n.push(r)}const d=o(c,a),h=r(n,a);switch(!0){case h===i.None&&d===i.None:return i.None;case h===i.Both||d===i.Both:return i.Both;default:return i.EntitiesOnly}}return{removeAll:function(t){return Object.assign({},t,{ids:[],entities:{}})},addOne:c(e),addMany:c(r),setAll:c(function(t,e){return e.ids=[],e.entities={},r(t,e),i.Both}),setOne:c(function(e,r){const a=s(e,t);return a in r.entities?(r.entities[a]=e,i.EntitiesOnly):(r.ids.push(a),r.entities[a]=e,i.Both)}),updateOne:c(n),updateMany:c(o),upsertOne:c(function(t,e){return d([t],e)}),upsertMany:c(d),removeOne:c(function(t,e){return a([t],e)}),removeMany:c(a),map:c(function(t,e){return o(e.ids.reduce((r,a)=>{const n=t(e.entities[a]);return n!==e.entities[a]&&r.push({id:a,changes:n}),r},[]).filter(({id:t})=>t in e.entities),e)}),mapOne:c(function({map:t,id:e},r){const a=r.entities[e];return a?n({id:e,changes:t(a)},r):i.None})}}const d=function(t={}){const{selectId:e,sortComparer:r}=Object.assign({sortComparer:!1,selectId:t=>t.id},t),n={getInitialState:function(t={}){return Object.assign({ids:[],entities:{}},t)}},d={getSelectors:function(t){const e=t=>t.ids,r=t=>t.entities,n=(0,a.P1)(e,r,(t,e)=>t.map(t=>e[t])),i=(0,a.P1)(e,t=>t.length);return t?{selectIds:(0,a.P1)(t,e),selectEntities:(0,a.P1)(t,r),selectAll:(0,a.P1)(t,n),selectTotal:(0,a.P1)(t,i)}:{selectIds:e,selectEntities:r,selectAll:n,selectTotal:i}}},h=r?function(t,e){const{removeOne:r,removeMany:a,removeAll:n}=o(t);function d(t,e){return h([t],e)}function h(e,r){const a=e.filter(e=>!(s(e,t)in r.entities));return 0===a.length?i.None:(g(a,r),i.Both)}function l(t,e){return u([t],e)}function u(e,r){const a=[],n=e.filter(e=>function(e,r,a){if(!(r.id in a.entities))return!1;const n=Object.assign({},a.entities[r.id],r.changes),i=s(n,t);return delete a.entities[r.id],e.push(n),i!==r.id}(a,e,r)).length>0;if(0===a.length)return i.None;{const t=r.ids,e=[];return r.ids=r.ids.filter((t,a)=>t in r.entities||(e.push(a),!1)),g(a,r),!n&&e.every(e=>r.ids[e]===t[e])?i.EntitiesOnly:i.Both}}function m(e,r){const a=[],n=[];for(const i of e){const e=s(i,t);e in r.entities?n.push({id:e,changes:i}):a.push(i)}const c=u(n,r),o=h(a,r);switch(!0){case o===i.None&&c===i.None:return i.None;case o===i.Both||c===i.Both:return i.Both;default:return i.EntitiesOnly}}function g(r,a){r.sort(e);const n=[];let i=0,c=0;for(;i<r.length&&c<a.ids.length;){const o=r[i],d=s(o,t),h=a.ids[c];e(o,a.entities[h])<=0?(n.push(d),i++):(n.push(h),c++)}a.ids=n.concat(i<r.length?r.slice(i).map(t):a.ids.slice(c)),r.forEach((e,r)=>{a.entities[t(e)]=e})}return{removeOne:r,removeMany:a,removeAll:n,addOne:c(d),updateOne:c(l),upsertOne:c(function(t,e){return m([t],e)}),setAll:c(function(t,e){return e.entities={},e.ids=[],h(t,e),i.Both}),setOne:c(function(e,r){const a=s(e,t);return a in r.entities?(r.ids=r.ids.filter(t=>t!==a),g([e],r),i.Both):d(e,r)}),addMany:c(h),updateMany:c(u),upsertMany:c(m),map:c(function(t,e){return u(e.ids.reduce((r,a)=>{const n=t(e.entities[a]);return n!==e.entities[a]&&r.push({id:a,changes:n}),r},[]),e)}),mapOne:c(function({map:t,id:e},r){const a=r.entities[e];return a?l({id:e,changes:t(a)},r):i.None})}}(e,r):o(e);return Object.assign(Object.assign(Object.assign({selectId:e,sortComparer:r},n),d),h)}({selectId:t=>t.char_id}),{selectEntities:h,selectAll:l}=d.getSelectors()},3715:(t,e,r)=>{"use strict";r.d(e,{c$:()=>c,I6:()=>o});var a=r(1671),n=r(7194),i=r(1027);const c="characters",s=i.VL.getInitialState({loaded:!1}),o=(0,a.Lq)(s,(0,a.on)(n.aB,(t,{characterList:e})=>i.VL.addMany(e,Object.assign(Object.assign({},t),{loaded:!0}))),(0,a.on)(n.cb,(t,{character:e})=>i.VL.addOne(e,Object.assign({},t))))},5382:(t,e,r)=>{"use strict";r.r(e),r.d(e,{CharactersModule:()=>Z});var a=r(3395),n=r(436),i=r(9996),c=r(7727),s=r(6599),o=r(878),d=r(7194),h=r(5366),l=r(2320),u=r(3492),m=r(649);let g=(()=>{class t{constructor(t,e,r,h){this.actions$=t,this.charactersService=e,this.toastr=r,this.translateService=h,this.loadCharacters$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(d.l),(0,n.b)(()=>this.charactersService.getCharacters().pipe((0,i.U)(t=>d.aB({characterList:t})),(0,c.K)(t=>(0,o.of)(d.FU({error:{title:"character.load",message:t.message}}))))))),this.loadCharacterById$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(d.W6),(0,n.b)(({id:t})=>this.charactersService.getCharacterById(t).pipe((0,i.U)(t=>d.cb({character:t})),(0,c.K)(t=>(0,o.of)(d.we({error:{title:"character.ById.load",message:t.message}}))))))),this.error$=(0,a.GW)(()=>this.actions$.pipe((0,a.l4)(d.FU,d.we),(0,s.b)(({error:t})=>this.toastr.error(t.message,this.translateService.instant(t.title)))),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(h.LFG(a.eX),h.LFG(l.R),h.LFG(u._W),h.LFG(m.sK))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),t})();var p=r(1671),f=r(1116),b=r(15),v=r(3835),_=r(9444),y=r(2471),x=r(6892);const O=function(t,e){return[t,e]};let C=(()=>{class t{constructor(){this.characterSegment=`/${y.r}`}ngOnInit(){}get backgroundImage(){return{backgroundImage:`url(${this.character.img})`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["bc-character-card"]],inputs:{character:"character"},decls:7,vars:7,consts:[[1,"character-card",3,"routerLink"],[1,"character-card__image",3,"ngStyle"],[1,"character-card__info"],[1,"character-card__info__name"]],template:function(t,e){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"p",3),h._uU(4),h.qZA(),h.TgZ(5,"p"),h._uU(6),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.Q6J("routerLink",h.WLB(4,O,e.characterSegment,e.character.char_id)),h.xp6(1),h.Q6J("ngStyle",e.backgroundImage),h.xp6(3),h.Oqu(e.character.name),h.xp6(2),h.Oqu(e.character.nickname))},directives:[x.rH,f.PC],styles:[".character-card[_ngcontent-%COMP%]{flex:auto;height:var(--character-card-height);border-radius:var(--border-radius);position:relative;overflow:hidden;cursor:pointer;background-color:#d3d3d3}.character-card__image[_ngcontent-%COMP%]{width:100%;height:100%;background-size:cover;transition:15s;transition-property:transform}.character-card[_ngcontent-%COMP%]:hover   .character-card__info[_ngcontent-%COMP%]{bottom:0}.character-card[_ngcontent-%COMP%]:hover   .character-card__image[_ngcontent-%COMP%]{transform:scale(1.5)}.character-card__info[_ngcontent-%COMP%]{position:absolute;bottom:-8rem;left:0;right:0;height:8rem;background:rgba(0,0,0,.7);color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:.2s ease-in;transition-property:bottom}.character-card__info__name[_ngcontent-%COMP%]{font-size:1.5rem}.character-card__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-letter{color:var(--bb-brand)}"]}),t})();function k(t,e){1&t&&(h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._UZ(2,"div",3),h._UZ(3,"div",4),h.qZA(),h.qZA())}const w=function(){return[1,2,3,4,5,6,7,8,9,10]};let B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["bc-characters-card-skeleton"]],decls:1,vars:2,consts:[["class","character-card--skeleton",4,"ngFor","ngForOf"],[1,"character-card--skeleton"],[1,"character-card__info--skeleton"],[1,"character-card__info__name--skeleton"],[1,"character-card__info__nickname--skeleton"]],template:function(t,e){1&t&&h.YNc(0,k,4,0,"div",0),2&t&&h.Q6J("ngForOf",h.DdM(1,w))},directives:[f.sg],styles:['.character-card--skeleton[_ngcontent-%COMP%]{border-radius:var(--border-radius);height:var(--character-card-height);width:100%;position:relative;overflow:hidden;border:1px solid rgba(0,0,0,.1)}.character-card--skeleton[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;left:-150px;top:0;height:100%;width:150px;background:linear-gradient(90deg,transparent 0,#e8e8e8 50%,transparent);animation:loading 1s cubic-bezier(.4,0,.2,1) infinite}.character-card__info--skeleton[_ngcontent-%COMP%]{position:absolute;bottom:0;height:8rem;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:space-around;background:#ede9e9}.character-card__info--skeleton[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;left:-150px;top:0;height:100%;width:150px;background:linear-gradient(90deg,transparent 0,#e8e8e8 50%,transparent);animation:loading 1s cubic-bezier(.4,0,.2,1) infinite}.character-card__info__name--skeleton[_ngcontent-%COMP%]{width:10rem;height:3rem;background-color:rgba(0,0,0,.1);border-radius:.5rem}.character-card__info__nickname--skeleton[_ngcontent-%COMP%]{width:6rem;height:2rem;background-color:rgba(0,0,0,.1);border-radius:.5rem}']}),t})();function P(t,e){1&t&&h._UZ(0,"bc-character-card",4),2&t&&h.Q6J("character",e.$implicit)}function M(t,e){if(1&t&&(h.TgZ(0,"div",2),h.YNc(1,P,1,1,"bc-character-card",3),h.qZA()),2&t){const t=e.ngIf,r=h.oxw();h.Q6J("@slideInRightList",void 0),h.xp6(1),h.Q6J("ngForOf",t)("ngForTrackBy",r.trackById)}}function L(t,e){1&t&&h._UZ(0,"bc-characters-card-skeleton")}const I=function(){return[1,2,3,4,5,6,7,8,9,10]};function S(t,e){1&t&&(h.TgZ(0,"div",2),h.YNc(1,L,1,0,"bc-characters-card-skeleton",5),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",h.DdM(1,I)))}const F=[{path:"",component:(()=>{class t{constructor(t){this.charactersFacadeService=t,this.characterList$=this.charactersFacadeService.characterList$.pipe((0,v.h)(t=>!!t.length))}ngOnInit(){this.charactersFacadeService.loadCharacters()}trackById(t,e){return e.char_id}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(_.S))},t.\u0275cmp=h.Xpm({type:t,selectors:[["bc-character-list"]],decls:4,vars:4,consts:[["class","character-grid",4,"ngIf","ngIfElse"],["placeholdeList",""],[1,"character-grid"],[3,"character",4,"ngFor","ngForOf","ngForTrackBy"],[3,"character"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(h.YNc(0,M,2,3,"div",0),h.ALo(1,"async"),h.YNc(2,S,2,2,"ng-template",null,1,h.W1O)),2&t){const t=h.MAs(3);h.Q6J("ngIf",h.lcZ(1,2,e.characterList$))("ngIfElse",t)}},directives:[f.O5,f.sg,C,B],pipes:[f.Ov],styles:[".character-grid[_ngcontent-%COMP%]{display:grid;grid-gap:2em;grid-template-columns:repeat(3,1fr);overflow-x:hidden}@media (min-width:1500px){.character-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width:800px){.character-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width:550px){.character-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],data:{animation:[b.P1]}}),t})(),data:{animationState:"slideRight"}},{path:y.r,loadChildren:()=>r.e(721).then(r.bind(r,2721)).then(t=>t.CharacterDetailModule),data:{animationState:"slideLeft"}}];let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[x.Bz.forChild(F)],x.Bz]}),t})();var N=r(2797),j=r(2389),$=r(3715);let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[_.S],imports:[[f.ez,A,N.QW,j.Cl,p.Aw.forFeature($.c$,$.I6),a.sQ.forFeature([g])]]}),t})()},2320:(t,e,r)=>{"use strict";r.d(e,{R:()=>s});var a=r(2693),n=r(529),i=r(9996),c=r(5366);let s=(()=>{class t{constructor(t){this.http=t,this.baseUrl=n.N.apiUrl}getCharacters(){return this.http.get(`${this.baseUrl}/characters`)}getCharacterById(t){return this.http.get(`${this.baseUrl}/characters/${t}`).pipe((0,i.U)(t=>t[0]))}getCharacterQuote(t){const e=new a.LE({fromObject:{author:t}});return this.http.get(`${this.baseUrl}/quote/random`,{params:e}).pipe((0,i.U)(t=>{var e,r;return null!==(r=null===(e=t[0])||void 0===e?void 0:e.quote)&&void 0!==r?r:"character.hasNotQuotes"}))}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(a.eN))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);